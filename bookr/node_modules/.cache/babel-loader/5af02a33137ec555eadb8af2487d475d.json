{"ast":null,"code":"// import { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport axios from \"axios\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const login = (credentials, history) => dispatch => {\n  dispatch({\n    type: LOGIN_START\n  });\n  axios.post(\"https://reqres.in/api/users/\", credentials).then(res => {\n    console.log(res);\n    localStorage.setItem(\"token\", res.data);\n    dispatch({\n      type: LOGIN_SUCCESS\n    });\n    history.push(\"/book-list\");\n  }).catch(err => {\n    console.log(err); // TODO: add error handling\n    // dispatch({ type: LOGIN_FAILURE })\n  }); // TODO: uncomment when backend is deployed\n  // axios\n  //   .post(\n  //     \"https://jondscott21-internationschool.herokuapp.com/login\",\n  //     `grant_type=password&username=${credentials.email}&password=${credentials.password}`,\n  //     {\n  //       headers: {\n  //         Authorization: `Basic ${btoa(\"lambda-client:lambda-secret\")}`,\n  //         \"Content-Type\": \"application/x-www-form-urlencoded\"\n  //       }\n  //     }\n  //   )\n  //   .then(res => localStorage.setItem(\"token\", res.data.access_token))\n  //   .catch(err => {\n  //     console.log(err)\n  //     // TODO: add error handling\n  //     // dispatch({ type: LOGIN_FAILURE })\n  //   });\n};\nexport const REGISTER_START = \"REGISTER_START\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\nexport const register = (credentials, history) => dispatch => {\n  dispatch({\n    type: REGISTER_START\n  });\n  axios.post(\"https://reqres.in/api/users/\", credentials).then(res => {\n    console.log(res);\n    localStorage.setItem(\"token\", res.data);\n    dispatch({\n      type: REGISTER_SUCCESS\n    });\n    history.push(\"/book-list\");\n  }).catch(err => {\n    console.log(err); // TODO: add error handling\n    // dispatch({ type: REGISTER_FAILURE })\n  });\n};\nexport const GET_START = \"GET_START\";\nexport const GET_SUCCESS = \"GET_SUCCESS\";\nexport const GET_FAILURE = \"GET_FAILURE\";\nexport const getBookList = () => dispatch => {\n  dispatch({\n    type: GET_START\n  }); // TODO: add axios get request\n};","map":{"version":3,"sources":["C:\\Users\\vampi\\Desktop\\LambdaSchool\\Week 8 Unit 2 Build Week\\FE\\bookr\\src\\actions\\index.js"],"names":["axios","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","login","credentials","history","dispatch","type","post","then","res","console","log","localStorage","setItem","data","push","catch","err","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","register","GET_START","GET_SUCCESS","GET_FAILURE","getBookList"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AAEP,OAAO,MAAMC,KAAK,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0BC,QAAQ,IAAI;AACzDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP;AAAR,GAAD,CAAR;AACAD,EAAAA,KAAK,CACFS,IADH,CACQ,8BADR,EACwCJ,WADxC,EAEGK,IAFH,CAEQC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAlC;AACAT,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEN;AAAR,KAAD,CAAR;AACAI,IAAAA,OAAO,CAACW,IAAR,CAAa,YAAb;AACD,GAPH,EAQCC,KARD,CAQOC,GAAG,IAAI;AACZP,IAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ,EADY,CAEZ;AACA;AACD,GAZD,EAFyD,CAgBzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAlCM;AAoCP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,QAAQ,GAAG,CAAClB,WAAD,EAAcC,OAAd,KAA0BC,QAAQ,IAAI;AAC5DA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEY;AAAR,GAAD,CAAR;AACApB,EAAAA,KAAK,CACFS,IADH,CACQ,8BADR,EACwCJ,WADxC,EAEGK,IAFH,CAEQC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAlC;AACAT,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEa;AAAR,KAAD,CAAR;AACAf,IAAAA,OAAO,CAACW,IAAR,CAAa,YAAb;AACD,GAPH,EAQGC,KARH,CAQSC,GAAG,IAAI;AACZP,IAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ,EADY,CAEZ;AACA;AACD,GAZH;AAaD,CAfM;AAiBP,OAAO,MAAMK,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AAEP,OAAO,MAAMC,WAAW,GAAG,MAAMpB,QAAQ,IAAI;AAC3CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEgB;AAAR,GAAD,CAAR,CAD2C,CAE3C;AACD,CAHM","sourcesContent":["// import { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\nimport axios from \"axios\";\r\n\r\nexport const LOGIN_START = \"LOGIN_START\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\r\n\r\nexport const login = (credentials, history) => dispatch => {\r\n  dispatch({ type: LOGIN_START });\r\n  axios\r\n    .post(\"https://reqres.in/api/users/\", credentials)\r\n    .then(res => {\r\n      console.log(res);\r\n      localStorage.setItem(\"token\", res.data);\r\n      dispatch({ type: LOGIN_SUCCESS });\r\n      history.push(\"/book-list\");\r\n    })\r\n  .catch(err => {\r\n    console.log(err);\r\n    // TODO: add error handling\r\n    // dispatch({ type: LOGIN_FAILURE })\r\n  });\r\n\r\n  // TODO: uncomment when backend is deployed\r\n  // axios\r\n  //   .post(\r\n  //     \"https://jondscott21-internationschool.herokuapp.com/login\",\r\n  //     `grant_type=password&username=${credentials.email}&password=${credentials.password}`,\r\n  //     {\r\n  //       headers: {\r\n  //         Authorization: `Basic ${btoa(\"lambda-client:lambda-secret\")}`,\r\n  //         \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n  //       }\r\n  //     }\r\n  //   )\r\n  //   .then(res => localStorage.setItem(\"token\", res.data.access_token))\r\n  //   .catch(err => {\r\n  //     console.log(err)\r\n  //     // TODO: add error handling\r\n  //     // dispatch({ type: LOGIN_FAILURE })\r\n  //   });\r\n};\r\n\r\nexport const REGISTER_START = \"REGISTER_START\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\r\n\r\nexport const register = (credentials, history) => dispatch => {\r\n  dispatch({ type: REGISTER_START });\r\n  axios\r\n    .post(\"https://reqres.in/api/users/\", credentials)\r\n    .then(res => {\r\n      console.log(res);\r\n      localStorage.setItem(\"token\", res.data);\r\n      dispatch({ type: REGISTER_SUCCESS });\r\n      history.push(\"/book-list\");\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      // TODO: add error handling\r\n      // dispatch({ type: REGISTER_FAILURE })\r\n    });\r\n};\r\n\r\nexport const GET_START = \"GET_START\";\r\nexport const GET_SUCCESS = \"GET_SUCCESS\";\r\nexport const GET_FAILURE = \"GET_FAILURE\";\r\n\r\nexport const getBookList = () => dispatch => {\r\n  dispatch({ type: GET_START });\r\n  // TODO: add axios get request\r\n};\r\n"]},"metadata":{},"sourceType":"module"}